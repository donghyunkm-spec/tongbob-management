<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>í†µë¹± ë§¤ì¥ ê´€ë¦¬ ì‹œìŠ¤í…œ</title>
    <link rel="stylesheet" href="style.css">
    <style>
        /* [ê³µí†µ] ê¸°ë³¸ ìŠ¤íƒ€ì¼ */
        body { font-family: 'Pretendard', sans-serif; background-color: #f8f9fa; margin: 0; padding: 10px; }
        h1, h2, h3, h4 { color: #333; }
        button { cursor: pointer; }
        .container { max-width: 800px; margin: 0 auto; background: white; padding: 15px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.05); }

        /* [ì¼ë³„] ì¹´ë“œ ìŠ¤íƒ€ì¼ (ëˆ„ë½ë˜ì—ˆë˜ ë¶€ë¶„ ì¶”ê°€) */
        .reservation-item {
            background: white;
            border: 1px solid #eee;
            border-left: 5px solid #4CAF50; /* ê¸°ë³¸ ì´ˆë¡ìƒ‰ */
            padding: 15px;
            margin-bottom: 10px;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            transition: transform 0.2s;
        }
        .reservation-item:hover { transform: translateY(-2px); }
        .reservation-time { font-size: 16px; font-weight: bold; color: #0066cc; margin-top: 5px; }
        
        /* [ì¼ë³„] ì„ì‹œíœ´ë¬´ ìŠ¤íƒ€ì¼ */
        .temp-off-row { background-color: #f5f5f5 !important; border-left: 5px solid #9e9e9e !important; opacity: 0.8; }
        
        /* [ë±ƒì§€] ìŠ¤íƒ€ì¼ */
        .count-badge {
            background: #ff5722; color: white; padding: 5px 12px;
            border-radius: 20px; font-size: 14px; font-weight: bold;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }
        .badge { display: inline-block; padding: 2px 6px; border-radius: 4px; font-size: 11px; margin-left: 5px; }
        .alternative-badge { background: #ff9800; color: white; }

        /* [ì£¼ê°„] í‘œ ìŠ¤íƒ€ì¼ */
        .weekly-container {
            display: grid; grid-template-columns: repeat(7, 1fr);
            border: 1px solid #ddd; border-radius: 8px; overflow: hidden; background: white;
        }
        .weekly-header {
            background: #4CAF50; color: white; padding: 10px 0; text-align: center;
            font-weight: bold; border-right: 1px solid rgba(255,255,255,0.2); font-size: 12px;
        }
        .weekly-header.sunday { background: #e53935; }
        .weekly-header.saturday { background: #1e88e5; }
        .weekly-col { border-right: 1px solid #eee; min-height: 200px; padding: 5px; background: #fafafa; }
        .weekly-col:last-child { border-right: none; }
        .today-highlight { background-color: #e8f5e9 !important; border: 2px solid #28a745 !important; }
        
        /* [ì£¼ê°„] ê·¼ë¬´ì ì¹´ë“œ */
        .staff-card-weekly {
            background: white; border-left: 4px solid #2196F3; padding: 6px; margin-bottom: 5px;
            border-radius: 4px; box-shadow: 0 1px 3px rgba(0,0,0,0.1); font-size: 12px;
        }
        .staff-card-weekly.exception { background: #fff3cd; border-color: #ffc107; }
        .staff-card-weekly.off-exception { background: #eeeeee; border-color: #999; color: #999; }
        .staff-card-weekly strong { display: block; font-size: 13px; margin-bottom: 2px; }

        /* [ì›”ë³„] ìº˜ë¦°ë” ìŠ¤íƒ€ì¼ */
        .calendar-controls { display: flex; justify-content: center; align-items: center; margin-bottom: 15px; gap: 15px; }
        .calendar-grid { display: grid; grid-template-columns: repeat(7, 1fr); gap: 1px; background: #ddd; border: 1px solid #ddd; }
        .calendar-head { background: #f8f9fa; padding: 8px; text-align: center; font-weight: bold; color: #333; font-size: 13px; }
        .calendar-day { background: white; min-height: 80px; padding: 5px; cursor: pointer; transition: background 0.2s; }
        .calendar-day:hover { background: #f1f3f5; }
        .calendar-day.empty { background: #f9f9f9; cursor: default; }
        .calendar-date-num { font-weight: bold; display: block; font-size: 12px; }
        .calendar-day.sunday .calendar-date-num { color: red; }
        .calendar-day.saturday .calendar-date-num { color: blue; }

        /* [íƒ­] ìŠ¤íƒ€ì¼ */
        .tabs {
            display: grid;
            /* ê¸°ì¡´: grid-template-columns: repeat(4, 1fr); */
            /* ìˆ˜ì •: ë²„íŠ¼ì´ 3ê°œì´ë¯€ë¡œ 3ìœ¼ë¡œ ë³€ê²½í•˜ê±°ë‚˜, flexë¡œ ë³€ê²½ */
            grid-template-columns: repeat(3, 1fr); 
            gap: 5px;
            margin-bottom: 15px;
        }
        .tab { background: #fff; border: 1px solid #ddd; border-radius: 8px; padding: 10px 5px; font-size: 13px; color: #555; transition: 0.2s; }
        .tab.active { background: #4CAF50; color: white; border-color: #4CAF50; font-weight: bold; box-shadow: 0 2px 5px rgba(0,0,0,0.2); }
        
        .tab-content { display: none; }
        .tab-content.active { display: block; }
        
        .att-sub-content, .acc-sub-content { display: none; animation: fadeIn 0.3s ease-in-out; }
        .att-sub-content.active, .acc-sub-content.active { display: block; }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }

        /* [ëª¨ë‹¬ & ê¸°íƒ€ UI] */
        .modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); display: none; justify-content: center; align-items: center; z-index: 2000; }
        .modal-box { background: white; padding: 25px; border-radius: 10px; width: 90%; max-width: 400px; box-shadow: 0 5px 15px rgba(0,0,0,0.3); }
        .modal-field { margin-bottom: 15px; }
        .modal-field label { display: block; font-weight: bold; margin-bottom: 5px; font-size: 13px; }
        .modal-actions { display: flex; gap: 10px; margin-top: 20px; }
        .btn { padding: 10px; border: none; border-radius: 5px; background: #2196F3; color: white; cursor: pointer; font-weight: bold; }
        
        .number-btn { background: #eee; border: none; padding: 5px 15px; border-radius: 5px; font-weight: bold; font-size: 16px; }
        .reset-btn { background: white; border: 1px solid #ccc; padding: 5px 12px; border-radius: 20px; cursor: pointer; font-size: 12px; margin-top: 5px; }

        /* [ê°€ê³„ë¶€] ìŠ¤íƒ€ì¼ */
        .accounting-card { background: white; border-radius: 10px; padding: 15px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); margin-bottom: 15px; }
        .input-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
        .money-input { text-align: right; font-weight: bold; width: 100%; padding: 8px; box-sizing: border-box; border: 1px solid #ddd; border-radius: 4px; }
        .category-label { font-size: 12px; color: #666; display: block; margin-bottom: 4px; }
        .dashboard-summary { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 8px; margin-bottom: 15px; }
        .summary-card { background: white; padding: 12px 5px; border-radius: 8px; text-align: center; box-shadow: 0 1px 3px rgba(0,0,0,0.1); }
        .summary-card .val { font-size: 14px; font-weight: bold; margin-top: 5px; }
        .summary-card.net-profit { background: #1a237e; color: white; }
        .summary-card.net-profit .val { color: #fff; }

        /* [ìˆ˜ì •] ì¬ê³ í™•ì¸ í…Œì´ë¸” ìŠ¤íƒ€ì¼ ê°œì„  */
        .check-table-container {
            overflow-x: auto;
            white-space: nowrap;
            margin-top: 10px;
            border: 1px solid #ddd;
            position: relative; /* ìŠ¤í‹°í‚¤ í—¤ë”ë¥¼ ìœ„í•´ í•„ìš” */
            max-height: 70vh; /* ì„¸ë¡œ ìŠ¤í¬ë¡¤ë„ ìƒê¸°ë„ë¡ */
        }

        .check-table {
            width: 100%;
            border-collapse: separate; /* sticky ì ìš©ì„ ìœ„í•´ collapse í•´ì œ ê¶Œì¥ */
            border-spacing: 0;
            font-size: 13px;
        }

        .check-table th, .check-table td {
            padding: 8px 10px;
            border-bottom: 1px solid #eee;
            border-right: 1px solid #eee; /* ì„¸ë¡œì„  ì¶”ê°€ */
            text-align: center;
            vertical-align: middle;
        }

        /* [í•µì‹¬] ì²« ë²ˆì§¸ ì—´(í’ˆëª©ëª…) ê³ ì • ë° ìŠ¤íƒ€ì¼ */
        .check-table th:first-child,
        .check-table td:first-child {
            position: sticky;
            left: 0;
            z-index: 10;
            background-color: #fff; /* ë°°ê²½ìƒ‰ í•„ìˆ˜ (íˆ¬ëª…í•˜ë©´ ê²¹ì¹¨) */
            border-right: 2px solid #ccc; /* ê³ ì • ì—´ êµ¬ë¶„ì„  ê°•ì¡° */
            
            /* ê¸´ ê¸€ì ì²˜ë¦¬ */
            white-space: normal; /* ì¤„ë°”ê¿ˆ í—ˆìš© */
            min-width: 80px;
            max-width: 120px; /* ë„ˆë¬´ ë„“ì–´ì§€ì§€ ì•Šê²Œ ì œí•œ */
            word-break: keep-all; /* ë‹¨ì–´ ë‹¨ìœ„ ì¤„ë°”ê¿ˆ */
            font-weight: bold;
            color: #333;
            text-align: left;
        }

        .check-table th:first-child {
            z-index: 11; /* í—¤ë”ì˜ ì²«ì—´ì€ ë” ìœ„ì— */
            background-color: #f1f3f5;
        }

        /* í—¤ë” ê³ ì • (ìƒë‹¨) */
        .check-table th {
            position: sticky;
            top: 0;
            background-color: #f1f3f5;
            z-index: 9;
        }

        /* [ì°¨íŠ¸] ë°” ìŠ¤íƒ€ì¼ */
        .bar-row { display: flex; align-items: center; margin-bottom: 8px; font-size: 12px; }
        .bar-label { width: 80px; text-align: right; margin-right: 10px; color: #555; }
        .bar-track { flex: 1; background: #f1f3f5; height: 15px; border-radius: 4px; overflow: hidden; }
        .bar-fill { height: 100%; display: flex; align-items: center; padding-left: 5px; color: white; font-size: 10px; }
        .bar-value { margin-left: 10px; font-weight: bold; width: 60px; text-align: right; }

        /* [ë¡œê·¸] í…Œì´ë¸” */
        .log-table { width: 100%; border-collapse: collapse; font-size: 12px; }
        .log-table th { background: #eee; padding: 8px; text-align: left; }
        .log-table td { padding: 8px; border-bottom: 1px solid #eee; }

        @media (max-width: 768px) {
            .weekly-container { display: block; overflow-x: auto; white-space: nowrap; }
            .weekly-header, .weekly-col { display: inline-block; width: 140px; vertical-align: top; white-space: normal; }
            .weekly-header { display: inline-block; width: 140px; }
            .tabs { grid-template-columns: repeat(2, 1fr); }
            .weekly-container { min-width: 100%; display: grid; grid-template-columns: repeat(7, minmax(100px, 1fr)); overflow-x: auto; }
        }
    </style>
</head>
<body>
    <div id="staffModal" class="modal-overlay">
        <div class="modal-box">
            <h2 id="staffModalTitle">ì§ì› ë“±ë¡</h2>
            <input type="hidden" id="staffId">
            <div class="modal-field">
                <label>ì´ë¦„</label>
                <input type="text" id="staffName" style="width:100%; padding:8px;" placeholder="ì´ë¦„ ì…ë ¥">
            </div>
            <div class="modal-field">
                <label>ì§ì±…</label>
                <input type="text" id="staffPosition" style="width:100%; padding:8px;" placeholder="ì˜ˆ: ì£¼ë°©ì¥, í™€ë§¤ë‹ˆì €">
            </div>
            <div class="modal-field">
                <label>ê¸‰ì—¬ í˜•íƒœ</label>
                <select id="staffSalaryType" style="width:100%; padding:8px;">
                    <option value="hourly">ì‹œê¸‰</option>
                    <option value="monthly">ì›”ê¸‰</option>
                </select>
            </div>
            <div class="modal-field">
                <label>ê¸‰ì—¬ì•¡ (ì›)</label>
                <input type="number" id="staffSalary" style="width:100%; padding:8px;" placeholder="10000">
            </div>
            <div class="modal-field">
                <label>ê¸°ë³¸ ê·¼ë¬´ì¼</label>
                <div style="display:grid; grid-template-columns: repeat(4, 1fr); gap:5px;">
                    <label style="display:flex; align-items:center; gap:3px;"><input type="checkbox" id="day-Sun">ì¼</label>
                    <label style="display:flex; align-items:center; gap:3px;"><input type="checkbox" id="day-Mon">ì›”</label>
                    <label style="display:flex; align-items:center; gap:3px;"><input type="checkbox" id="day-Tue">í™”</label>
                    <label style="display:flex; align-items:center; gap:3px;"><input type="checkbox" id="day-Wed">ìˆ˜</label>
                    <label style="display:flex; align-items:center; gap:3px;"><input type="checkbox" id="day-Thu">ëª©</label>
                    <label style="display:flex; align-items:center; gap:3px;"><input type="checkbox" id="day-Fri">ê¸ˆ</label>
                    <label style="display:flex; align-items:center; gap:3px;"><input type="checkbox" id="day-Sat">í† </label>
                </div>
            </div>
            <div class="modal-field">
                <label>ê·¼ë¬´ ì‹œê°„ (ì˜ˆ: 17:00~23:00)</label>
                <input type="text" id="staffTime" style="width:100%; padding:8px;" placeholder="17:00~23:00">
            </div>
            <div class="modal-field">
                <label>ì—­í•  (ë³µìˆ˜ ì„ íƒ ê°€ëŠ¥)</label>
                <div style="display:grid; grid-template-columns: repeat(2, 1fr); gap:8px; background:#f5f5f5; padding:10px; border-radius:5px;">
                    <label style="display:flex; align-items:center; gap:5px;">
                        <input type="checkbox" id="role-ì¼ë°˜" onchange="handleRoleChange('ì¼ë°˜')">
                        <span style="padding:3px 8px; background:#9e9e9e; color:white; border-radius:3px; font-size:12px;">ì¼ë°˜</span>
                    </label>
                    <label style="display:flex; align-items:center; gap:5px;">
                        <input type="checkbox" id="role-í¬ìŠ¤" onchange="handleRoleChange('í¬ìŠ¤')">
                        <span style="padding:3px 8px; background:#e91e63; color:white; border-radius:3px; font-size:12px;">ğŸ¯ í¬ìŠ¤</span>
                    </label>
                    <label style="display:flex; align-items:center; gap:5px;">
                        <input type="checkbox" id="role-ì‚¼ê²¹ì‚´" onchange="handleRoleChange('ì‚¼ê²¹ì‚´')">
                        <span style="padding:3px 8px; background:#ff5722; color:white; border-radius:3px; font-size:12px;">ğŸ¥© ì‚¼ê²¹ì‚´</span>
                    </label>
                    <label style="display:flex; align-items:center; gap:5px;">
                        <input type="checkbox" id="role-êµ­ìˆ˜" onchange="handleRoleChange('êµ­ìˆ˜')">
                        <span style="padding:3px 8px; background:#ff9800; color:white; border-radius:3px; font-size:12px;">ğŸœ êµ­ìˆ˜</span>
                    </label>
                </div>
                <p style="font-size:11px; color:#666; margin-top:5px;">* ì¼ë°˜: ìˆ™ë ¨ìê°€ ì•„ë‹Œ ì•Œë°” / í¬ìŠ¤/ì‚¼ê²¹ì‚´/êµ­ìˆ˜: ìˆ™ë ¨ì ì „ë¬¸ ì—­í• </p>
            </div>
            <div class="modal-field">
                <label>í‡´ì‚¬ì¼ (ì„ íƒ)</label>
                <input type="date" id="staffEndDate" style="width:100%; padding:8px;">
            </div>
            <div class="modal-actions">
                <button class="btn" onclick="saveStaff()" style="flex:1; background:#2196F3;">ì €ì¥</button>
                <button class="btn" onclick="closeStaffModal()" style="flex:1; background:#666;">ì·¨ì†Œ</button>
            </div>
        </div>
    </div>

    <!-- ê·¼ë¬´ ì˜ˆì™¸ ì²˜ë¦¬ ëª¨ë‹¬ -->
    <div id="exceptionModal" class="modal-overlay">
        <div class="modal-box">
            <h2>â° ê·¼ë¬´ ì˜ˆì™¸ ì²˜ë¦¬</h2>
            <input type="hidden" id="exceptionStaffId">
            <input type="hidden" id="exceptionDateVal">
            <div style="background:#f5f5f5; padding:10px; border-radius:5px; margin-bottom:15px;">
                <p style="margin:0;"><strong id="exceptionStaffName"></strong></p>
                <p style="margin:5px 0 0 0; font-size:13px; color:#666;" id="exceptionDate"></p>
            </div>
            <div class="modal-field">
                <label>ì˜ˆì™¸ ìœ í˜•</label>
                <select id="exceptionType" style="width:100%; padding:8px;">
                    <option value="work">ì¶œê·¼</option>
                    <option value="off">íœ´ë¬´</option>
                </select>
            </div>
            <div class="modal-field">
                <label>ê·¼ë¬´ ì‹œê°„</label>
                <div style="display:flex; gap:5px; align-items:center;">
                    <select id="exStartHour" style="padding:5px; flex:1;"></select>ì‹œ
                    <select id="exStartMin" style="padding:5px; flex:1;"></select>ë¶„
                    <span>~</span>
                    <select id="exEndHour" style="padding:5px; flex:1;"></select>ì‹œ
                    <select id="exEndMin" style="padding:5px; flex:1;"></select>ë¶„
                </div>
            </div>
            <div class="modal-actions">
                <button class="btn" onclick="saveException()" style="flex:1; background:#4CAF50;">ì €ì¥</button>
                <button class="btn" onclick="deleteException()" style="flex:1; background:#f44336;">ì‚­ì œ</button>
                <button class="btn" onclick="closeExceptionModal()" style="flex:1; background:#666;">ì·¨ì†Œ</button>
            </div>
        </div>
    </div>
    
    <div id="tempWorkerModal" class="modal-overlay">
        <div class="modal-box">
            <h2>âš¡ ì¼ì¼ ëŒ€íƒ€/ì¶”ê°€ ê·¼ë¬´ ë“±ë¡</h2>
            <div class="modal-field">
                <label>ì´ë¦„</label>
                <input type="text" id="tempName" list="staffNameList" style="width:100%; padding:8px;" placeholder="ì´ë¦„ ì…ë ¥" oninput="autoFillSalary(this.value)"> 
                <datalist id="staffNameList"></datalist>
            </div>
            <div class="modal-field">
                <label>ì‹œê¸‰ (ì›)</label>
                <input type="number" id="tempSalary" style="width:100%; padding:8px;" value="10000">
            </div>
            <div class="modal-field">
                <label>ê·¼ë¬´ ì‹œê°„</label>
                <div style="display:flex; gap:5px; align-items:center;">
                    <select id="tempStartHour" style="padding:5px; flex:1;"></select>ì‹œ
                    <select id="tempStartMin" style="padding:5px; flex:1;"><option value="00">00</option><option value="30">30</option></select>ë¶„
                    <span>~</span>
                    <select id="tempEndHour" style="padding:5px; flex:1;"></select>ì‹œ
                    <select id="tempEndMin" style="padding:5px; flex:1;"><option value="00">00</option><option value="30">30</option></select>ë¶„
                </div>
            </div>
            <div class="modal-actions">
                <button class="btn" onclick="saveTempWorker()" style="flex:1; background:#28a745;">ë“±ë¡</button>
                <button class="btn" onclick="closeTempModal()" style="flex:1; background:#666;">ì·¨ì†Œ</button>
            </div>
        </div>
    </div>

    <div id="loginOverlay" class="modal-overlay">
        <div class="modal-box">
            <h2>ğŸ”’ ê´€ë¦¬ì ë¡œê·¸ì¸</h2>
            <input type="password" id="loginPassword" placeholder="ë¹„ë°€ë²ˆí˜¸" style="width:100%; padding:10px; margin-bottom:10px;" onkeypress="if(event.key==='Enter') tryLogin()">
            <div class="modal-actions">
                <button class="btn" onclick="tryLogin()" style="flex:1;">ë¡œê·¸ì¸</button>
                <button class="btn" onclick="closeLoginModal()" style="flex:1; background:#666;">ë‹«ê¸°</button>
            </div>
            <div id="loginError" style="color:red; display:none; margin-top:10px; text-align:center;">ë¹„ë°€ë²ˆí˜¸ ì˜¤ë¥˜</div>
        </div>
    </div>

    <div id="confirmModal" class="modal">
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h2>âš ï¸ ë°œì£¼ í™•ì¸ í•„ìš”</h2>
                <button class="close-btn" onclick="closeConfirmModal()">Ã—</button>
            </div>
            <div id="confirmContent" class="confirm-content"></div>
            <div class="modal-footer">
                <button onclick="proceedToOrder()" class="btn-primary">ë‹¤ìŒ ë‹¨ê³„</button>
            </div>
        </div>
    </div>
    
    <div id="orderModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>ğŸ“‹ ìµœì¢… ë°œì£¼ ë¦¬ìŠ¤íŠ¸</h2>
                <button class="close-btn" onclick="closeOrderModal()">Ã—</button>
            </div>
            <div id="orderContent" class="order-content"></div>
            <div class="modal-footer">
                <button onclick="copyToKakao()" class="btn-kakao">ğŸ’¬ ì¹´ì¹´ì˜¤í†¡ ë³µì‚¬</button>
                <button onclick="closeOrderModal()" class="btn-primary">ì™„ë£Œ</button>
            </div>
        </div>
    </div>
    
    <div id="editItemModal" class="modal">
        <div class="modal-content">
            <div class="modal-header"><h2>ğŸ›  í’ˆëª© ìˆ˜ì •</h2><button class="close-btn" onclick="closeEditItemModal()">Ã—</button></div>
            <div class="modal-body">
                <input type="hidden" id="editVendor"><input type="hidden" id="editIndex">
                <div class="add-item-form-grid">
                    <div class="form-row"><label>í’ˆëª©ëª…</label><input type="text" id="editName"></div>
                    <div class="form-row"><label>ë‹¨ìœ„</label><input type="text" id="editUnit"></div>
                    <div class="form-row"><label>ì¤‘ìš”ë„</label><select id="editImportance"><option value="ì¤‘">ì¤‘</option><option value="ìƒ">ìƒ</option><option value="í•˜">í•˜</option></select></div>
                    <div class="form-row"><label>ê´€ë¦¬ ì£¼ê¸°</label><select id="editCycle"><option value="daily">ë§¤ì¼</option><option value="weekly">ë§¤ì£¼ í™”ìš”ì¼</option></select></div>
                    <div class="form-row">
                        <label>ìœ„ì¹˜</label>
                        <div style="display:flex; gap:10px;">
                            <label style="display:flex; align-items:center; gap:3px;">
                                <input type="checkbox" id="editLoc1"> 1ë£¨
                            </label>
                            <label style="display:flex; align-items:center; gap:3px;">
                                <input type="checkbox" id="editLoc3"> 3ë£¨
                            </label>
                        </div>
                    </div>
                    <div class="form-row">
                        <label>ì¬ê³  ì„ê³„ê°’</label>
                        <input type="number" id="editThreshold" placeholder="ì˜ˆ: 100 (ì´ ê°’ ì´í•˜ë©´ ë°œì£¼)" step="0.1">
                    </div>
                    <div class="form-row">
                        <label>ìµœì†Œ ë°œì£¼ëŸ‰</label>
                        <input type="number" id="editMinOrder" placeholder="ì˜ˆ: 300 (ì„ê³„ê°’ ì´í•˜ì¼ ë•Œ ì´ë§Œí¼ ë°œì£¼)" step="0.1">
                    </div>
                </div>
            </div>
            <div class="modal-footer"><button onclick="saveEditItem()" class="btn-primary">ìˆ˜ì • ì™„ë£Œ</button></div>
        </div>
    </div>
    
    <div id="noOrderModal" class="modal">
        <div class="modal-content">
            <div class="modal-header"><h2>âš ï¸ ì¥ê¸° ë¯¸ë°œì£¼</h2><button class="close-btn" onclick="closeNoOrderModal()">Ã—</button></div>
            <div class="modal-body">
                <div class="period-selector">
                    <button class="period-btn active" onclick="filterNoOrderPeriod(5)">5ì¼ ì´ìƒ</button>
                    <button class="period-btn" onclick="filterNoOrderPeriod(7)">7ì¼ ì´ìƒ</button>
                </div>
                <div id="noOrderContent" class="no-order-list"></div>
            </div>
        </div>
    </div>

    <div id="editModalOverlay" class="modal-overlay">
        <div class="modal-box">
            <h2>âœï¸ ì§ì› ì •ë³´ ìˆ˜ì •</h2>
            <input type="hidden" id="editId">
            <div class="modal-field">
                <label>ì´ë¦„</label>
                <input type="text" id="editName" disabled style="background:#eee; width:100%; padding:8px;">
            </div>
            <div class="modal-field">
                <label>ê¸°ë³¸ ê·¼ë¬´ ì‹œê°„</label>
                <input type="text" id="editTime" style="width:100%; padding:8px;">
            </div>
            <div style="background:#fff3e0; padding:10px; border-radius:5px; margin-bottom:15px;">
                <h4 style="margin:0 0 10px 0; font-size:13px; color:#ef6c00;">ğŸ“… ì…/í‡´ì‚¬ ê´€ë¦¬</h4>
                <div class="input-group-row" style="display:flex; gap:10px;"> 
                    <div style="flex:1;">
                        <label style="font-size:12px;">ì…ì‚¬ì¼</label>
                        <input type="date" id="editStartDate" style="width:100%; padding:5px;">
                    </div>
                    <div style="flex:1;">
                        <label style="font-size:12px;">í‡´ì‚¬ì¼</label>
                        <input type="date" id="editEndDate" style="width:100%; padding:5px;">
                    </div>
                </div>
            </div>
            <div id="modalSalarySection" style="display:none; background:#f0f8ff; padding:10px; border-radius:5px;">
                <div class="modal-field">
                    <label>ğŸ’° ê¸‰ì—¬ í˜•íƒœ</label>
                    <select id="editSalaryType" style="width:100%; padding:8px;">
                        <option value="hourly">ì‹œê¸‰</option>
                        <option value="monthly">ì›”ê¸‰</option>
                    </select>
                </div>
                <div class="modal-field">
                    <label>ê¸ˆì•¡</label>
                    <input type="number" id="editSalary" style="width:100%; padding:8px;">
                </div>
            </div>
            <div class="modal-actions">
                <button class="btn" onclick="saveStaffEdit()" style="flex:1;">ì €ì¥</button>
                <button class="btn" onclick="closeEditModal()" style="flex:1; background:#666;">ì·¨ì†Œ</button>
            </div>
        </div>
    </div>

    <div id="timeChangeModal" class="modal-overlay">
        <div class="modal-box">
            <h2>â° ê·¼ë¬´ ì‹œê°„ ë³€ê²½</h2>
            <input type="hidden" id="timeChangeId">
            <input type="hidden" id="timeChangeDate">
            <div class="modal-field">
                <label>ë³€ê²½í•  ì‹œê°„</label>
                <div style="display:flex; gap:5px; align-items:center;">
                    <select id="tcStartHour" style="padding:5px; flex:1;"></select>ì‹œ
                    <select id="tcStartMin" style="padding:5px; flex:1;"><option value="00">00</option><option value="10">10</option><option value="30">30</option></select>ë¶„
                    <span>~</span>
                    <select id="tcEndHour" style="padding:5px; flex:1;"></select>ì‹œ
                    <select id="tcEndMin" style="padding:5px; flex:1;"><option value="00">00</option><option value="10">10</option><option value="30">30</option></select>ë¶„
                </div>
            </div>
            <div class="modal-actions">
                <button class="btn" onclick="submitTimeChange()" style="flex:1; background:#17a2b8;">ë³€ê²½</button>
                <button class="btn" onclick="closeTimeChangeModal()" style="flex:1; background:#666;">ì·¨ì†Œ</button>
            </div>
        </div>
    </div>

    <div id="salaryModal" class="modal-overlay">
        <div class="modal-box" style="max-width:500px;">
            <h2>ğŸ’° ì˜ˆìƒ ê¸‰ì—¬ ëª…ì„¸</h2>
            <div style="max-height:300px; overflow-y:auto; margin-bottom:15px;">
                <table class="log-table">
                    <thead><tr><th>ì´ë¦„</th><th>êµ¬ë¶„</th><th>ìƒì„¸</th><th style="text-align:right;">ì˜ˆìƒì•¡</th></tr></thead>
                    <tbody id="salaryTableBody"></tbody>
                </table>
            </div>
            <div id="totalSalaryAmount" style="text-align:right; font-size:18px; font-weight:bold; color:#d32f2f;"></div>
            <div class="modal-actions">
                <button class="btn" onclick="closeSalaryModal()" style="width:100%; background:#666;">ë‹«ê¸°</button>
            </div>
        </div>
    </div>

    <div class="container" id="mainContent">
        <div class="header" style="margin-bottom:15px;">
            <div style="display: flex; justify-content: space-between; align-items: center;">                
                <h1 id="pageTitle" style="font-size: 20px; margin:0;">ğŸ  ë§¤ì¥ ê´€ë¦¬</h1>                
                <button id="loginBtn" onclick="openLoginModal()" style="background: #333; color:white; border:none; padding:6px 12px; border-radius:15px; font-size:12px;">
                    ğŸ”’ ë¡œê·¸ì¸
                </button>
                <div id="userInfo" style="display:none; font-size: 12px; background: #eee; padding: 5px 10px; border-radius: 15px; display:flex; align-items:center; gap:10px;">
                    <span id="userName"></span>
                    <button onclick="logout()" style="background:#d32f2f; color:white; border:none; padding:4px 10px; border-radius:10px; font-size:11px; cursor:pointer; font-weight:bold;">
                        ğŸšª ë¡œê·¸ì•„ì›ƒ
                    </button>
                </div>
            </div>
        </div>

        <div class="tabs">
            <button class="tab active" onclick="switchTab('attendance')">ğŸ‘¥ ì§ì›/ê·¼ë¬´</button>
            <button class="tab" onclick="switchTab('accounting')" style="background:#e3f2fd; color:#0d47a1;">ğŸ’° ë§¤ì…/ë§¤ì¶œ</button>
            <button id="tab-inventory" class="tab" onclick="switchTab('inventory')" style="display:none; background:#e8f5e9; color:#2e7d32;">ğŸ“¦ ì¬ê³ ê´€ë¦¬</button>
        </div>

        <div id="attendance-content" class="tab-content active">    
            <div class="accounting-card" style="padding: 10px; margin-bottom:15px;">
                <div class="tabs" style="grid-template-columns: repeat(5, 1fr); margin-bottom: 0;">
                    <button class="tab active" onclick="switchAttSubTab('att-daily', this)">ğŸ“… ì¼ë³„</button>
                    <button class="tab" onclick="switchAttSubTab('att-weekly', this)">ğŸ—“ ì£¼ê°„</button>
                    <button class="tab" onclick="switchAttSubTab('att-monthly', this)">ğŸ“† ì›”ë³„</button>
                    <button class="tab" onclick="switchAttSubTab('att-manage', this)" style="background:#fff3cd; color:#856404;">âš™ï¸ ê´€ë¦¬</button>
                    <button class="tab" onclick="switchAttSubTab('att-logs', this)" style="font-size:11px;">ğŸ“œ ì´ë ¥</button>
                </div>
            </div>

            <div id="att-daily" class="att-sub-content active">
                <div class="status-container">
                    <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:20px;">
                        <button onclick="changeDate(-1)" class="number-btn">&lt;</button>
                        <div style="text-align: center;">
                            <h2 id="currentDateDisplay" style="margin:0;"></h2>
                            <button onclick="resetToToday()" class="reset-btn">ì˜¤ëŠ˜ ë³´ê¸°</button> 
                            <span id="dailyCountBadge" class="count-badge" style="margin-top:5px; display:inline-block;">ì´ 0ëª…</span>
                        </div>
                        <button onclick="changeDate(1)" class="number-btn">&gt;</button>
                    </div>

                    <div id="dailyTools" style="text-align:right; margin-bottom:10px; padding:10px; background:#f1f3f5; border-radius:8px;">
                        <button onclick="addTempWorker()" style="background:#28a745; color:white; border:none; padding:6px 12px; border-radius:4px; font-weight:bold;">+ ëŒ€íƒ€/ì¶”ê°€ ë“±ë¡</button>
                    </div>

                    <div id="dailyStaffList"></div>
                </div>
            </div>

            <div id="att-weekly" class="att-sub-content">
                <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:20px;">
                    <button onclick="changeWeek(-1)" class="number-btn">&lt;</button>
                    <div style="text-align: center;">
                        <h2 id="weeklyRangeDisplay" style="margin:0;"></h2>
                        <button onclick="resetToThisWeek()" class="reset-btn">ì´ë²ˆ ì£¼</button>
                    </div>
                    <button onclick="changeWeek(1)" class="number-btn">&gt;</button>
                </div>
                
                <div class="weekly-container">
                    <div id="header-Sun" class="weekly-header sunday">ì¼</div>
                    <div id="header-Mon" class="weekly-header">ì›”</div>
                    <div id="header-Tue" class="weekly-header">í™”</div>
                    <div id="header-Wed" class="weekly-header">ìˆ˜</div>
                    <div id="header-Thu" class="weekly-header">ëª©</div>
                    <div id="header-Fri" class="weekly-header">ê¸ˆ</div>
                    <div id="header-Sat" class="weekly-header saturday">í† </div>
                    
                    <div id="col-Sun" class="weekly-col" data-day="ì¼ìš”ì¼"></div>
                    <div id="col-Mon" class="weekly-col" data-day="ì›”ìš”ì¼"></div>
                    <div id="col-Tue" class="weekly-col" data-day="í™”ìš”ì¼"></div>
                    <div id="col-Wed" class="weekly-col" data-day="ìˆ˜ìš”ì¼"></div>
                    <div id="col-Thu" class="weekly-col" data-day="ëª©ìš”ì¼"></div>
                    <div id="col-Fri" class="weekly-col" data-day="ê¸ˆìš”ì¼"></div>
                    <div id="col-Sat" class="weekly-col" data-day="í† ìš”ì¼"></div>
                </div>
            </div>

            <div id="att-monthly" class="att-sub-content">
                <div class="calendar-controls">
                    <button onclick="changeMonth(-1)" class="number-btn">&lt;</button>
                    <div style="text-align:center;">
                        <h2 id="monthDisplay" style="margin:0;"></h2>
                        <button onclick="resetToThisMonth()" class="reset-btn">ì´ë²ˆ ë‹¬</button>
                    </div>
                    <button onclick="changeMonth(1)" class="number-btn">&gt;</button>
                </div>
                <div class="calendar-grid">
                    <div class="calendar-head" style="color:red">ì¼</div>
                    <div class="calendar-head">ì›”</div>
                    <div class="calendar-head">í™”</div>
                    <div class="calendar-head">ìˆ˜</div>
                    <div class="calendar-head">ëª©</div>
                    <div class="calendar-head">ê¸ˆ</div>
                    <div class="calendar-head" style="color:blue">í† </div>
                    <div id="calendarBody" style="display:contents;"></div>
                </div>
            </div>

            <div id="att-manage" class="att-sub-content">
                <div class="form-container">
                    <div style="display:flex; justify-content:space-between; align-items:center;">
                        <h2>ì§ì› ë“±ë¡/ê´€ë¦¬</h2>
                        <div id="salarySection" style="display:none;">
                            <button onclick="calculateMonthlySalary()" style="background:#673ab7; color:white; border:none; padding:8px 15px; border-radius:5px; font-weight:bold;">
                                ğŸ’° ê¸‰ì—¬ ì˜ˆì¸¡
                            </button>
                        </div>
                    </div>
                    
                    <div id="bulkSection" style="margin-bottom: 20px; display: none; background:#f8f9fa; padding:15px; border-radius:8px;">
                        <h3>ğŸ“‘ ì¼ê´„ ë“±ë¡ (ì‚¬ì¥ë‹˜ ì „ìš©)</h3>
                        <p style="font-size:12px; color:#666;">í˜•ì‹: ì´ë¦„, ìš”ì¼, ì‹œê°„ (ì¤„ë°”ê¿ˆìœ¼ë¡œ êµ¬ë¶„)</p>
                        <textarea id="bulkText" style="height: 100px; width:100%; padding:10px; border:1px solid #ddd; border-radius:5px;" placeholder="ì˜ˆ: í™ê¸¸ë™, ì›”ìˆ˜ê¸ˆ, 18:00~23:00"></textarea>
                        <button class="btn" onclick="processBulkText()" style="width:100%; margin-top:5px;">ë“±ë¡í•˜ê¸°</button>
                    </div>

                    <hr style="margin:20px 0;">
                    <h3>ğŸ“‹ ì§ì› ëª©ë¡</h3>
                    <div id="manageStaffList" style="margin-top:15px;"></div>
                </div>
            </div>

            <div id="att-logs" class="att-sub-content">
                <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:15px;">
                    <h2>ğŸ“œ ë³€ê²½ ì´ë ¥</h2>
                    <button id="adminBackupBtn" onclick="downloadAllData()" style="display:none; background:#2e7d32; color:white; border:none; padding:8px 15px; border-radius:5px; font-weight:bold;">
                        ğŸ’¾ ë°±ì—…
                    </button>
                </div>
                <div style="overflow-x: auto;">
                    <table class="log-table">
                        <thead><tr><th>ì‹œê°„</th><th>ì‘ì—…ì</th><th>êµ¬ë¶„</th><th>ë‚´ìš©</th></tr></thead>
                        <tbody id="logTableBody"></tbody>
                    </table>
                </div>
            </div>
        </div>
    
        <div id="accounting-content" class="tab-content">
            <div class="accounting-header-nav" style="display:flex; justify-content:space-between; align-items:center; background:#fff; padding:15px; border-radius:10px; margin-bottom:15px; box-shadow:0 2px 5px rgba(0,0,0,0.05);">
                <button onclick="changeAccMonth(-1)" class="nav-btn" style="border:1px solid #ddd; padding:5px 10px; background:white; border-radius:5px;">â—€ ì „ì›”</button>
                <div class="current-month-display" style="text-align:center;">
                    <h2 id="dashboardTitle" style="margin:0;"></h2>
                    <button onclick="resetAccMonth()" class="reset-btn" style="margin-top:5px;">ì´ë²ˆ ë‹¬</button>
                </div>
                <button onclick="changeAccMonth(1)" class="nav-btn" style="border:1px solid #ddd; padding:5px 10px; background:white; border-radius:5px;">ìµì›” â–¶</button>
            </div>
    
            <div class="tabs" style="grid-template-columns: repeat(6, 1fr); margin-bottom: 15px;">
                <button class="tab active" onclick="switchAccSubTab('acc-daily', this)">ì¼ì¼ì…ë ¥</button>
                <button class="tab" onclick="switchAccSubTab('acc-history', this)">ì…ë ¥ë‚´ì—­</button>
                <button class="tab" id="tab-prediction" onclick="switchAccSubTab('acc-prediction', this)" style="background:#f3e5f5; color:#4a148c;">ì˜ˆìƒìˆœìµ</button>
                <button class="tab" id="tab-dashboard" onclick="switchAccSubTab('acc-dashboard', this)">ì›”ê°„ë¶„ì„</button>
                <button class="tab" onclick="switchAccSubTab('acc-monthly', this)">ê³ ì •ë¹„</button>
                <button class="tab" onclick="switchAccSubTab('acc-logs', this)" style="font-size:11px; background:#e8f5e9; color:#2e7d32;">ë³€ê²½ì´ë ¥</button>
            </div>

            <div id="acc-logs" class="acc-sub-content">
                 <h3>ğŸ“œ ë§¤ì…/ë§¤ì¶œ ë³€ê²½ ì´ë ¥</h3>
                 <div style="overflow-x: auto;">
                    <table class="log-table">
                        <thead><tr><th>ì‹œê°„</th><th>ì‘ì—…ì</th><th>êµ¬ë¶„</th><th>ëŒ€ìƒ</th><th>ë‚´ìš©</th></tr></thead>
                        <tbody id="accLogTableBody"></tbody>
                    </table>
                </div>
            </div>
    
            <div id="acc-daily" class="acc-sub-content active">
                <div class="accounting-card">
                    <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:15px; border-bottom:1px solid #eee; padding-bottom:10px;">
                        <input type="date" id="accDate" onchange="loadDailyAccounting()" style="padding:10px; font-size:15px; width:60%; border:1px solid #ddd; border-radius:5px;">
                        <button onclick="saveDailyAccounting()" style="width:35%; background:#29b6f6; color:white; border:none; padding:10px; border-radius:5px; font-weight:bold;">ğŸ’¾ ì €ì¥í•˜ê¸°</button>
                    </div>
    
                    <h4 style="color:#1976D2; margin-bottom:10px; background:#e3f2fd; padding:8px; border-radius:5px;">ğŸª 1ë£¨ ë§¤ì¶œ</h4>
                    <div class="input-grid">
                        <div><span class="category-label">ğŸ’³ ì¹´ë“œ ë§¤ì¶œ</span><input type="number" id="inpCard1" class="money-input" placeholder="0"></div>
                        <div><span class="category-label">ğŸ’µ í˜„ê¸ˆ ë§¤ì¶œ</span><input type="number" id="inpCash1" class="money-input" placeholder="0"></div>
                        <div><span class="category-label">ğŸ›µ ë°°ë‹¬ ë§¤ì¶œ</span><input type="number" id="inpDelivery1" class="money-input" placeholder="0"></div>
                        <div><span class="category-label">ğŸ¦ ê³„ì¢Œì´ì²´ (ì°¸ê³ )</span><input type="number" id="inpTransfer1" class="money-input" placeholder="0" style="background:#fff9c4;"></div>
                    </div>

                    <h4 style="color:#1976D2; margin-top:20px; margin-bottom:10px; background:#e1f5fe; padding:8px; border-radius:5px;">ğŸª 3ë£¨ ë§¤ì¶œ</h4>
                    <div class="input-grid">
                        <div><span class="category-label">ğŸ’³ ì¹´ë“œ ë§¤ì¶œ</span><input type="number" id="inpCard3" class="money-input" placeholder="0"></div>
                        <div><span class="category-label">ğŸ’µ í˜„ê¸ˆ ë§¤ì¶œ</span><input type="number" id="inpCash3" class="money-input" placeholder="0"></div>
                        <div><span class="category-label">ğŸ›µ ë°°ë‹¬ ë§¤ì¶œ</span><input type="number" id="inpDelivery3" class="money-input" placeholder="0"></div>
                        <div><span class="category-label">ğŸ¦ ê³„ì¢Œì´ì²´ (ì°¸ê³ )</span><input type="number" id="inpTransfer3" class="money-input" placeholder="0" style="background:#fff9c4;"></div>
                    </div>
    
                    <h4 style="color:#d32f2f; margin-top:25px; margin-bottom:10px; border-top:1px dashed #ddd; padding-top:15px;">ğŸ“¤ ì¼ì¼ ì§€ì¶œ (ê³µí†µ)</h4>
                    <div class="input-grid">
                        <div><span class="category-label">ğŸ¥¬ ê³ ì„¼ìœ í†µ</span><input type="number" id="inpFood" class="money-input" placeholder="0"></div>
                        <div><span class="category-label">ğŸ¥© í•œê°•ìœ í†µ(ê³ ê¸°)</span><input type="number" id="inpMeat" class="money-input" placeholder="0"></div>
                        <div style="grid-column: span 2;"><span class="category-label">ğŸ¦ ê¸°íƒ€ ì¡ë¹„</span><input type="number" id="inpEtc" class="money-input" placeholder="0"></div>
                    </div>

                    <div style="margin-top:15px; display:grid; grid-template-columns: 1fr 1fr; gap:10px;">
                        <div>
                            <span class="category-label">ğŸ“ 1ë£¨ ë©”ëª¨</span>
                            <input type="text" id="inpNote1" style="width:100%; padding:10px; border:1px solid #ddd; border-radius:5px;" placeholder="1ë£¨ íŠ¹ì´ì‚¬í•­">
                        </div>
                        <div>
                            <span class="category-label">ğŸ“ 3ë£¨ ë©”ëª¨</span>
                            <input type="text" id="inpNote3" style="width:100%; padding:10px; border:1px solid#ddd; border-radius:5px;" placeholder="3ë£¨ íŠ¹ì´ì‚¬í•­">
                        </div>
                    </div>
                </div>
            </div>
    
            <div id="acc-history" class="acc-sub-content">
                <div class="accounting-card">
                    <h3 style="margin-top:0;">ğŸ“œ ì…ë ¥ ë‚´ì—­</h3>
                    <div style="background:#f8f9fa; padding:10px; margin-bottom:10px; display:flex; gap:5px;">
                        <select id="historyFilterSelect" style="flex:2; padding:8px;">
                            <option value="all">ì „ì²´ ë³´ê¸°</option>
                            <option value="sales">ğŸ’° ì´ë§¤ì¶œ</option>
                            <option value="card">ğŸ’³ ì¹´ë“œ</option>
                            <option value="cash">ğŸ’µ í˜„ê¸ˆ</option>
                            <option value="delivery">ğŸ›µ ë°°ë‹¬</option>
                            <option value="food">ğŸ¥¬ ê³ ì„¼ìœ í†µ</option>
                            <option value="etc">ğŸ¦ ê¸°íƒ€ì¡ë¹„</option>
                        </select>
                        <button onclick="applyHistoryFilter()" style="flex:1; background:#455a64; color:white; border:none; border-radius:4px;">ê²€ìƒ‰</button>
                    </div>
                    <div id="filterResultSummary" style="display:none; background:#e8f5e9; color:#2e7d32; padding:10px; margin-bottom:10px; text-align:center;"></div>
                    <div style="overflow-x:auto;">
                        <table class="log-table">
                            <thead><tr><th>ë‚ ì§œ</th><th>ì´ë§¤ì¶œ</th><th>ì§€ì¶œ</th><th>ë‚´ì—­</th><th>ê´€ë¦¬</th></tr></thead>
                            <tbody id="historyTableBody"></tbody>
                        </table>
                    </div>
                </div>
            </div>

            <div id="acc-prediction" class="acc-sub-content">
                <div class="accounting-card" style="border-top: 4px solid #ab47bc;">
                    <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:10px;">
                        <h3 style="color:#4a148c; margin:0;">ğŸ”® ì´ë²ˆ ë‹¬ ì˜ˆìƒ ìˆœìµ <span style="font-size:12px; color:#666;" id="predDateRatio"></span></h3>
                        <div style="display:flex; gap:5px;">
                            <button onclick="selectPredStore('all')" id="predStoreAll" class="store-select-btn active" style="padding:8px 15px; border:2px solid #4a148c; background:#4a148c; color:white; border-radius:5px; font-weight:bold; cursor:pointer; font-size:13px;">ì „ì²´</button>
                            <button onclick="selectPredStore('1')" id="predStore1" class="store-select-btn" style="padding:8px 15px; border:2px solid #1976D2; background:white; color:#1976D2; border-radius:5px; font-weight:bold; cursor:pointer; font-size:13px;">1ë£¨</button>
                            <button onclick="selectPredStore('3')" id="predStore3" class="store-select-btn" style="padding:8px 15px; border:2px solid #0288D1; background:white; color:#0288D1; border-radius:5px; font-weight:bold; cursor:pointer; font-size:13px;">3ë£¨</button>
                        </div>
                    </div>
                    <div class="dashboard-summary">
                        <div class="summary-card total-sales"><div class="lbl">í˜„ì¬ ì´ ë§¤ì¶œ</div><div class="val" id="predTotalSales">0ì›</div></div>
                        <div class="summary-card total-cost"><div class="lbl">ì˜ˆìƒ ì§€ì¶œ</div><div class="val" id="predTotalCost" style="color:#ab47bc;">0ì›</div></div>
                        <div class="summary-card net-profit"><div class="lbl">ì˜ˆìƒ ìˆœìµ</div><div class="val" id="predNetProfit">0ì›</div><div class="sub-val" id="predMargin">0%</div></div>
                    </div>
                    <div style="margin-top:20px;">
                        <h4 style="font-size:13px; color:#333; margin-bottom:10px;">ğŸ“‰ <span id="predCostText">ë¹„ìš©</span> ìƒì„¸</h4>
                        <div id="predCostList"></div>
                    </div>
                </div>
            </div>
    
            <div id="acc-dashboard" class="acc-sub-content">
                <div style="display:flex; justify-content:flex-end; margin-bottom:10px; gap:5px;">
                    <button onclick="selectDashStore('all')" id="dashStoreAll" class="store-select-btn active" style="padding:8px 15px; border:2px solid #333; background:#333; color:white; border-radius:5px; font-weight:bold; cursor:pointer; font-size:13px;">ì „ì²´</button>
                    <button onclick="selectDashStore('1')" id="dashStore1" class="store-select-btn" style="padding:8px 15px; border:2px solid #1976D2; background:white; color:#1976D2; border-radius:5px; font-weight:bold; cursor:pointer; font-size:13px;">1ë£¨</button>
                    <button onclick="selectDashStore('3')" id="dashStore3" class="store-select-btn" style="padding:8px 15px; border:2px solid #0288D1; background:white; color:#0288D1; border-radius:5px; font-weight:bold; cursor:pointer; font-size:13px;">3ë£¨</button>
                </div>
                <div class="dashboard-summary">
                    <div class="summary-card total-sales"><div class="lbl">ì´ ë§¤ì¶œ</div><div class="val" id="dashTotalSales">0ì›</div></div>
                    <div class="summary-card total-cost"><div class="lbl">ì´ ì§€ì¶œ</div><div class="val" id="dashTotalCost">0ì›</div></div>
                    <div class="summary-card net-profit"><div class="lbl">ìˆœìˆ˜ìµ</div><div class="val" id="dashNetProfit">0ì›</div><div class="sub-val" id="dashMargin">0%</div></div>
                </div>
                <div class="accounting-card">
                    <h3>ğŸ“Š ë§¤ì¶œ ìƒì„¸</h3>
                    <div id="salesBreakdownChart"></div>
                </div>
                <div class="accounting-card">
                    <h3>ğŸ“‰ ì§€ì¶œ ìƒì„¸</h3>
                    <div id="costBreakdownList"></div>
                </div>
            </div>
    
            <div id="acc-monthly" class="acc-sub-content">
                <div class="accounting-card">
                    <h4 style="color:#00796b; margin-bottom:10px;">ğŸ—“ï¸ <span id="fixCostTitle"></span> ê³ ì • ì§€ì¶œ ì„¤ì •</h4>
                    <p style="font-size:12px; color:#666; margin-bottom:15px;">* íšŒìƒ‰ ì¹¸ì€ ìë™ ê³„ì‚°ë©ë‹ˆë‹¤. ìˆ˜ìˆ˜ë£ŒëŠ” ì¼ì¼ ë§¤ì¶œ ê¸°ì¤€ ìë™ ê³„ì‚°ë©ë‹ˆë‹¤.</p>
    
                    <h4 style="background:#e3f2fd; padding:8px; border-radius:5px; margin-bottom:10px;">ğŸª 1ë£¨ ê³ ì •ë¹„</h4>
                    <div class="input-grid">
                        <div><span class="category-label">ğŸŒ ì¸í„°ë„·</span><input type="number" id="fixInternet1" class="money-input"></div>
                        <div><span class="category-label">ğŸ’§ ìƒí•˜ìˆ˜ë„</span><input type="number" id="fixWater1" class="money-input"></div>
                        <div><span class="category-label">ğŸ§¹ ì²­ì†Œìš©ì—­ë¹„</span><input type="number" id="fixCleaning1" class="money-input"></div>
                        <div><span class="category-label">ğŸ¢ ìš´ì˜ê´€ë¦¬ë¹„</span><input type="number" id="fixOperMgmt1" class="money-input"></div>
                        <div><span class="category-label">ğŸ“¹ CCTV</span><input type="number" id="fixCCTV1" class="money-input"></div>
                        <div><span class="category-label">ğŸ’³ ì‚¬ì—…ìì¹´ë“œ</span><input type="number" id="fixBizCard1" class="money-input"></div>
                        <div><span class="category-label">ğŸ”§ ê¸°íƒ€ì¡ë¹„</span><input type="number" id="fixEtc1" class="money-input"></div>
                    </div>

                    <h4 style="background:#e1f5fe; padding:8px; border-radius:5px; margin-top:20px; margin-bottom:10px;">ğŸª 3ë£¨ ê³ ì •ë¹„</h4>
                    <div class="input-grid">
                        <div><span class="category-label">ğŸŒ ì¸í„°ë„·</span><input type="number" id="fixInternet3" class="money-input"></div>
                        <div><span class="category-label">ğŸ’§ ìƒí•˜ìˆ˜ë„</span><input type="number" id="fixWater3" class="money-input"></div>
                        <div><span class="category-label">ğŸ§¹ ì²­ì†Œìš©ì—­ë¹„</span><input type="number" id="fixCleaning3" class="money-input"></div>
                        <div><span class="category-label">ğŸ¢ ìš´ì˜ê´€ë¦¬ë¹„</span><input type="number" id="fixOperMgmt3" class="money-input"></div>
                        <div><span class="category-label">ğŸ“¹ CCTV</span><input type="number" id="fixCCTV3" class="money-input"></div>
                        <div><span class="category-label">ğŸ’³ ì‚¬ì—…ìì¹´ë“œ</span><input type="number" id="fixBizCard3" class="money-input"></div>
                        <div><span class="category-label">ğŸ”§ ê¸°íƒ€ì¡ë¹„</span><input type="number" id="fixEtc3" class="money-input"></div>
                    </div>

                    <button onclick="saveFixedCost()" style="width:100%; background:#00796b; color:white; padding:12px; border:none; border-radius:5px; font-weight:bold; margin-top:20px;">ğŸ’¾ ì„¤ì • ì €ì¥</button>
                </div>
            </div>
        </div>
        <div id="inventory-content" class="tab-content">
            <div class="accounting-card" style="padding: 10px; margin-bottom: 15px;">
                <div class="tabs" style="grid-template-columns: repeat(5, 1fr); margin-bottom: 0; font-size: 12px;">
                    <button class="tab active" onclick="showInvTab('inventory')">ì¬ê³ ì…ë ¥</button>
                    <button class="tab" onclick="showInvTab('check')" style="background:#fff3e0; color:#e65100; font-weight:bold;">ğŸ” ì¬ê³ í™•ì¸</button> 
                    <button class="tab" onclick="showInvTab('standard')">ì‚¬ìš©ëŸ‰</button>
                    <button class="tab" onclick="showInvTab('manageItems')">í’ˆëª©ê´€ë¦¬</button>
                    <button class="tab" onclick="showInvTab('holidays')">íœ´ì¼</button>
                    <button class="tab" onclick="showInvTab('orderHistory')">ë°œì£¼ë‚´ì—­</button>
                </div>
            </div>

            <div id="inventory-tab" class="inv-tab-content active">
                <div class="form-container">
                    <div id="inventoryForm" class="inventory-form-unified"></div>
                </div>
            </div>

            <div id="check-tab" class="inv-tab-content" style="display:none;">
                <div class="form-container">
                    <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:15px; background:#fff; padding:10px; border-radius:8px; box-shadow:0 2px 5px rgba(0,0,0,0.05);">
                        <div style="display:flex; align-items:center; gap:10px;">
                            <button onclick="changeCheckDate(-1)" class="number-btn">&lt;</button>
                            <h3 id="checkDateDisplay" style="margin:0; font-size:16px;">ì˜¤ëŠ˜</h3>
                            <button onclick="changeCheckDate(1)" class="number-btn">&gt;</button>
                        </div>
                        
                        <button id="btnStartOrder" onclick="triggerOrderProcess()" 
                            style="background:#ff5722; color:white; border:none; padding:10px 20px; border-radius:5px; font-weight:bold; box-shadow:0 2px 5px rgba(0,0,0,0.2);">
                            ğŸš€ ë°œì£¼ ì§„í–‰
                        </button>
                    </div>

                    <div style="margin-bottom:10px; padding:10px; background:#e3f2fd; border-radius:5px; font-size:12px; color:#1565C0;">
                        ğŸ“Š <strong>ì „ì²´ ì¬ê³  í˜„í™©íŒ</strong> (ê°€ë¡œë¡œ ìŠ¤í¬ë¡¤í•˜ì—¬ 1ë£¨/3ë£¨ í™•ì¸)
                    </div>
                    <div id="inventoryCheckList" class="check-table-container"></div>
                </div>
            </div>

            <div id="standard-tab" class="inv-tab-content" style="display:none;">
                <div class="form-container">
                    <div id="standardForm" class="inventory-form"></div>
                    <div class="form-actions"><button onclick="saveStandard()" class="submit-btn">ğŸ’¾ ì‚¬ìš©ëŸ‰ ì €ì¥</button></div>
                </div>
            </div>

            <div id="manageItems-tab" class="inv-tab-content" style="display:none;">
                <div class="add-item-box" style="background:#f9f9f9; padding:15px; border-radius:5px; margin-bottom:15px; border:1px solid #ddd;">
                    <h4 style="margin-top:0; margin-bottom:10px;">â• í’ˆëª© ì¶”ê°€</h4>
                    <div class="add-item-form-grid" style="display: grid; grid-template-columns: 1fr 1fr 1fr 1fr 1fr 100px auto; gap: 8px; align-items: center;">
                        
                        <div class="form-row">
                            <select id="newItemVendor" style="padding:8px; width:100%;">
                                <option value="ê³ ì„¼ìœ í†µ">ê³ ì„¼</option>
                                <option value="í•œê°•ìœ í†µ(ê³ ê¸°)">ê³ ê¸°</option>
                                <option value="ì¸í„°ë„·ë°œì£¼">ì¸í„°ë„·</option>
                            </select>
                        </div>

                        <div class="form-row">
                            <input type="text" id="newItemName" placeholder="í’ˆëª©ëª…" style="padding:8px; width:100%;">
                        </div>

                        <div class="form-row">
                            <input type="text" id="newItemUnit" placeholder="ë‹¨ìœ„(kg,ê°œ)" style="padding:8px; width:100%;">
                        </div>

                        <div class="form-row">
                            <select id="newItemImportance" style="padding:8px; width:100%;">
                                <option value="ì¤‘">ì¤‘ìš”ë„: ì¤‘</option>
                                <option value="ìƒ">ì¤‘ìš”ë„: ìƒ</option>
                                <option value="í•˜">ì¤‘ìš”ë„: í•˜</option>
                            </select>
                        </div>

                        <div class="form-row">
                            <select id="newItemCycle" style="padding:8px; width:100%;">
                                <option value="daily">ê´€ë¦¬: ë§¤ì¼</option>
                                <option value="weekly">ë§¤ì£¼ í™”ìš”ì¼</option>
                            </select>
                        </div>

                        <div class="form-row" style="display:flex; gap:5px; font-size:12px; flex-direction:column;">
                            <label style="display:flex; align-items:center; gap:3px; margin:0;">
                                <input type="checkbox" id="newItemLoc1" checked> 1ë£¨
                            </label>
                            <label style="display:flex; align-items:center; gap:3px; margin:0;">
                                <input type="checkbox" id="newItemLoc3" checked> 3ë£¨
                            </label>
                        </div>

                        <button onclick="addNewItem()" class="btn-primary" style="padding:8px 15px; white-space: nowrap;">ì¶”ê°€</button>
                    </div>
                </div>

                <div class="form-container">
                    <div class="vendor-selector" style="margin-bottom:15px;">
                        <select id="manageVendorSelect" onchange="renderManageItems()" style="padding:10px; font-size:16px;">
                            <option value="all">ğŸ“‹ ì „ì²´ í’ˆëª© ë³´ê¸°</option>
                            <option value="ê³ ì„¼ìœ í†µ">ê³ ì„¼ìœ í†µ</option>
                            <option value="í•œê°•ìœ í†µ(ê³ ê¸°)">í•œê°•ìœ í†µ(ê³ ê¸°)</option>
                            <option value="ì¸í„°ë„·ë°œì£¼">ì¸í„°ë„·ë°œì£¼</option>
                        </select>
                    </div>
                    <div id="manageItemsList"></div>
                    <div class="form-actions" style="margin-top:15px;">
                        <button onclick="saveItemChanges()" class="submit-btn" style="background:#1976D2;">ğŸ’¾ ìˆœì„œ/ë³€ê²½ì‚¬í•­ ì €ì¥</button>
                    </div>
                </div>
            </div>

            <div id="holidays-tab" class="inv-tab-content" style="display:none;">
                <div class="form-container">
                    <div class="holiday-section">
                        <h4>ğŸš« ê°€ê²Œ ì„ì‹œ íœ´ë¬´ (ì›”ìš”ì¼ ì™¸)</h4>
                        <div style="display:flex; gap:5px;">
                            <input type="date" id="storeHolidayDate"> 
                            <button onclick="addHoliday('store')" class="btn-danger">íœ´ë¬´ ì¶”ê°€</button>
                        </div>
                        <div class="holiday-list" id="storeHolidayList"></div>
                    </div>

                    <div class="holiday-section" style="margin-top:20px; background:#e8f5e9; padding:10px; border-radius:5px;">
                        <h4 style="color:#2e7d32;">âš¾ ì›”ìš”ì¼/íœ´ì¼ ì„ì‹œ ì˜ì—…</h4>
                        <div style="display:flex; gap:5px;">
                            <input type="date" id="storeOpenHolidayDate"> 
                            <button onclick="addHoliday('store_open')" class="btn-primary">ì˜ì—… ì¶”ê°€</button>
                        </div>
                        <div class="holiday-list" id="store_openHolidayList"></div>
                    </div>

                    <div class="holiday-section" style="margin-top:20px;">
                        <h4>ğŸ¥¬ ê³ ì„¼ìœ í†µ íœ´ì¼</h4>
                        <div style="display:flex; gap:5px;">
                            <input type="date" id="goshenHolidayDate"> 
                            <button onclick="addHoliday('ê³ ì„¼ìœ í†µ')" class="btn-primary">ì¶”ê°€</button>
                        </div>
                        <div class="holiday-list" id="goshenHolidayList"></div>
                    </div>

                    <div class="holiday-section" style="margin-top:20px;">
                        <h4>ğŸ¥© í•œê°•ìœ í†µ(ê³ ê¸°) íœ´ì¼</h4>
                        <div style="display:flex; gap:5px;">
                            <input type="date" id="meatHolidayDate"> 
                            <button onclick="addHoliday('í•œê°•ìœ í†µ(ê³ ê¸°)')" class="btn-primary">ì¶”ê°€</button>
                        </div>
                        <div class="holiday-list" id="meatHolidayList"></div>
                    </div>

                    <div class="holiday-section" style="margin-top:20px;">
                        <h4>ğŸŒ ì¸í„°ë„·ë°œì£¼ íœ´ì¼</h4>
                        <div style="display:flex; gap:5px;">
                            <input type="date" id="internetHolidayDate"> 
                            <button onclick="addHoliday('ì¸í„°ë„·ë°œì£¼')" class="btn-primary">ì¶”ê°€</button>
                        </div>
                        <div class="holiday-list" id="internetHolidayList"></div>
                    </div>
                </div>
            </div>

            <div id="orderHistory-tab" class="inv-tab-content" style="display:none;">
                <div class="form-container">
                    <div class="filter-group">
                        <input type="date" id="orderDateFilter" onchange="loadOrderHistory()">
                        <select id="orderVendorFilter" onchange="loadOrderHistory()">
                            <option value="all">ì „ì²´</option>
                            <option value="ê³ ì„¼ìœ í†µ">ê³ ì„¼</option>
                            <option value="í•œê°•ìœ í†µ(ê³ ê¸°)">ê³ ê¸°</option>
                            <option value="ì¸í„°ë„·ë°œì£¼">ì¸í„°ë„·</option>
                        </select>
                    </div>
                    <div id="orderHistoryList" class="history-list"></div>
                </div>
            </div>
        </div>
    </div>

    <div id="alertContainer"></div> 
    <div class="container" id="mainContent"> </div>

    <!-- ì—­í•  ì²´í¬ë°•ìŠ¤ í•¸ë“¤ëŸ¬ ìŠ¤í¬ë¦½íŠ¸ -->
    <script>
    // ì—­í•  ì²´í¬ë°•ìŠ¤ í•¸ë“¤ëŸ¬ - ì¼ë°˜ê³¼ ìˆ™ë ¨ì ì—­í•  ìƒí˜¸ë°°íƒ€ì  ì²˜ë¦¬
    function handleRoleChange(role) {
        const generalCheck = document.getElementById('role-ì¼ë°˜');
        const posCheck = document.getElementById('role-í¬ìŠ¤');
        const samCheck = document.getElementById('role-ì‚¼ê²¹ì‚´');
        const noodleCheck = document.getElementById('role-êµ­ìˆ˜');

        if (role === 'ì¼ë°˜') {
            if (generalCheck.checked) {
                // ì¼ë°˜ ì„ íƒ ì‹œ ìˆ™ë ¨ì ì—­í•  ëª¨ë‘ í•´ì œ
                posCheck.checked = false;
                samCheck.checked = false;
                noodleCheck.checked = false;
            }
        } else {
            // ìˆ™ë ¨ì ì—­í•  ì„ íƒ ì‹œ ì¼ë°˜ í•´ì œ
            if (posCheck.checked || samCheck.checked || noodleCheck.checked) {
                generalCheck.checked = false;
            }
        }
    }
    </script>

    <script src="staff.js"></script>
    <script src="inventory.js"></script>
</body>
</html>